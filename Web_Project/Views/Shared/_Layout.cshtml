@* <!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Web_Project</title>

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="h-full bg-slate-50 text-slate-900">
    <!-- Top Nav -->
    <header class="sticky top-0 z-50 border-b border-slate-200 bg-white/80 backdrop-blur">
        <nav class="mx-auto max-w-6xl px-4">
            <div class="flex h-16 items-center justify-between">
                <!-- Brand -->
                <a asp-area="" asp-controller="Home" asp-action="Index"
                   class="inline-flex items-center gap-2 font-semibold tracking-tight text-slate-900 hover:text-slate-700">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-emerald-500 text-white shadow-sm">
                        G
                    </span>
                    Gym Management
                </a>

                <!-- Desktop Links -->
                <div class="hidden items-center gap-2 md:flex">
                    <a asp-area="" asp-controller="Home" asp-action="Index"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Home
                    </a>
                    <a asp-area="" asp-controller="Home" asp-action="Privacy"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Privacy
                    </a>

                    @if (User?.Identity?.IsAuthenticated ?? false)
                    {
                            <a asp-controller="AppointmentsMvc" asp-action="MyAppointments"
                               class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                                My Appointments
                            </a>

                        @if (User.IsInRole("Member"))
                        {
                                    <a asp-controller="AppointmentsMvc" asp-action="Book"
                                       class="rounded-xl bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-500">
                                        Book Now
                                    </a>
                        }
                    }

                    <!-- Auth buttons/links -->
                    <div class="ml-2">
                        <partial name="_LoginPartial" />
                    </div>
                </div>

                <!-- Mobile menu button -->
                <button id="mobileMenuBtn"
                        class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50 md:hidden"
                        type="button"
                        aria-expanded="false"
                        aria-controls="mobileMenu">
                    Menu
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden border-t border-slate-200 pb-4 pt-3 md:hidden">
                <div class="flex flex-col gap-2">
                    <a asp-area="" asp-controller="Home" asp-action="Index"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Home
                    </a>
                    <a asp-area="" asp-controller="Home" asp-action="Privacy"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Privacy
                    </a>

                    @if (User?.Identity?.IsAuthenticated ?? false)
                    {
                            <a asp-controller="AppointmentsMvc" asp-action="MyAppointments"
                               class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                                My Appointments
                            </a>

                        @if (User.IsInRole("Member"))
                        {
                                    <a asp-controller="AppointmentsMvc" asp-action="Book"
                                       class="rounded-xl bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-500">
                                        Book Now
                                    </a>
                        }
                    }

                    <div class="pt-2">
                        <partial name="_LoginPartial" />
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Page Content -->
    <div class="mx-auto max-w-6xl px-4">
        <main role="main" class="py-8">
            @RenderBody()
        </main>
    </div>

    <!-- Footer -->
    <footer class="mt-auto border-t border-slate-200 bg-white">
        <div class="mx-auto max-w-6xl px-4 py-6 text-sm text-slate-500">
            <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                <p>&copy; @DateTime.Now.Year - Web_Project</p>
                <a asp-area="" asp-controller="Home" asp-action="Privacy"
                   class="font-medium text-slate-600 hover:text-slate-900">
                    Privacy
                </a>
            </div>
        </div>
    </footer>

    <!-- Tiny JS for mobile menu -->
    <script>
        (function () {
            const btn = document.getElementById("mobileMenuBtn");
            const menu = document.getElementById("mobileMenu");
            if (!btn || !menu) return;

            btn.addEventListener("click", function () {
                const isHidden = menu.classList.contains("hidden");
                menu.classList.toggle("hidden");
                btn.setAttribute("aria-expanded", String(isHidden));
            });
        })();
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
 *@

            <!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Web_Project</title>

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="h-full bg-slate-50 text-slate-900">
    <!-- Top Nav -->
    <header class="sticky top-0 z-50 border-b border-slate-200 bg-white/80 backdrop-blur">
        <nav class="mx-auto max-w-6xl px-4">
            <div class="flex h-16 items-center justify-between">
                <!-- Brand -->
                <a asp-area="" asp-controller="Home" asp-action="Index"
                   class="inline-flex items-center gap-2 font-semibold tracking-tight text-slate-900 hover:text-slate-700">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-emerald-500 text-white shadow-sm">
                        G
                    </span>
                    Gym Management
                </a>

                <!-- Desktop Links -->
                <div class="hidden items-center gap-2 md:flex">
                    <a asp-area="" asp-controller="Home" asp-action="Index"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Home
                    </a>

                    <a asp-area="" asp-controller="Home" asp-action="Privacy"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Privacy
                    </a>

                    @if (User?.Identity?.IsAuthenticated ?? false)
                    {
                            <a asp-controller="AppointmentsMvc" asp-action="MyAppointments"
                               class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                                My Appointments
                            </a>

                        @if (User.IsInRole("Member"))
                        {
                                    <a asp-controller="AppointmentsMvc" asp-action="Book"
                                       class="rounded-xl bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-500">
                                        Book Now
                                    </a>
                        }

                        @* ✅ ADMIN LINK (only visible to Admins) *@
                        @if (User.IsInRole("Admin"))
                        {
                                            <a asp-controller="Admin" asp-action="Index"
                                                     class="rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50">
                                                 Admin
                                              </a>

                        }
                    }

                    <!-- Auth buttons/links -->
                    <div class="ml-2">
                        <partial name="_LoginPartial" />
                    </div>
                </div>

                <!-- Mobile menu button -->
                <button id="mobileMenuBtn"
                        class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50 md:hidden"
                        type="button"
                        aria-expanded="false"
                        aria-controls="mobileMenu">
                    Menu
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden border-t border-slate-200 pb-4 pt-3 md:hidden">
                <div class="flex flex-col gap-2">
                    <a asp-area="" asp-controller="Home" asp-action="Index"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Home
                    </a>

                    <a asp-area="" asp-controller="Home" asp-action="Privacy"
                       class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                        Privacy
                    </a>

                    @if (User?.Identity?.IsAuthenticated ?? false)
                    {
                            <a asp-controller="AppointmentsMvc" asp-action="MyAppointments"
                               class="rounded-xl px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-900">
                                My Appointments
                            </a>

                        @if (User.IsInRole("Member"))
                        {
                                    <a asp-controller="AppointmentsMvc" asp-action="Book"
                                       class="rounded-xl bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-500">
                                        Book Now
                                    </a>
                        }

                        @* ✅ ADMIN LINK (only visible to Admins) *@
                        @if (User.IsInRole("Admin"))
                        {
                                    <a asp-controller="Admin" asp-action="CreateTrainer"
                                       class="rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50">
                                        Admin
                                    </a>
                        }
                    }

                    <div class="pt-2">
                        <partial name="_LoginPartial" />
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Page Content -->
    <div class="mx-auto max-w-6xl px-4">
        <main role="main" class="py-8">
            @RenderBody()
        </main>
    </div>

    <!-- Footer -->
    <footer class="mt-auto border-t border-slate-200 bg-white">
        <div class="mx-auto max-w-6xl px-4 py-6 text-sm text-slate-500">
            <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                <p>&copy; @DateTime.Now.Year - Web_Project</p>
                <a asp-area="" asp-controller="Home" asp-action="Privacy"
                   class="font-medium text-slate-600 hover:text-slate-900">
                    Privacy
                </a>
            </div>
        </div>
    </footer>

    <!-- Tiny JS for mobile menu -->
    <script>
        (function () {
            const btn = document.getElementById("mobileMenuBtn");
            const menu = document.getElementById("mobileMenu");
            if (!btn || !menu) return;

            btn.addEventListener("click", function () {
                const isHidden = menu.classList.contains("hidden");
                menu.classList.toggle("hidden");
                btn.setAttribute("aria-expanded", String(isHidden));
            });
        })();
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
